var cookies = [
  {
    "domain": ".linkedin.com",
    "expirationDate": 1520442379,
    "hostOnly": false,
    "httpOnly": false,
    "name": "__utma",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "226841088.1534171593.1447708852.1457370379.1457370379.1",
    "id": 1
  },
  {
    "domain": ".linkedin.com",
    "expirationDate": 1473138379,
    "hostOnly": false,
    "httpOnly": false,
    "name": "__utmz",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "226841088.1457370379.1.1.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided)",
    "id": 2
  },
  {
    "domain": ".linkedin.com",
    "expirationDate": 1520694768,
    "hostOnly": false,
    "httpOnly": false,
    "name": "_ga",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "GA1.2.1534171593.1447708852",
    "id": 3
  },
  {
    "domain": ".linkedin.com",
    "expirationDate": 1460905627.183667,
    "hostOnly": false,
    "httpOnly": false,
    "name": "_lipt",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "0_byJLu4U83r9974Puy9YtlptuI_alkSrkjNe2e1-mFbxLDV6cBqM1st1-hdY9njrjwQQrPHKqGmm5XzRu31h2zGSHLXWcebUKBQ9Pq_Bt03W3UW0I5SF_47sSdzjR9vvIh-kEZPOM5MEq1dLNLNmFwXP0RaSDEOsrEZtpr0-jLRDe9xZB2cEvVwINKYJRylit",
    "id": 4
  },
  {
    "domain": ".linkedin.com",
    "expirationDate": 1506227957.727193,
    "hostOnly": false,
    "httpOnly": false,
    "name": "bcookie",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "\"v=2&43695110-b896-4b8b-82bd-345692227a71\"",
    "id": 5
  },
  {
    "domain": ".linkedin.com",
    "hostOnly": false,
    "httpOnly": false,
    "name": "lang",
    "path": "/",
    "secure": false,
    "session": true,
    "storeId": "0",
    "value": "\"v=2&lang=en-us\"",
    "id": 6
  },
  {
    "domain": ".linkedin.com",
    "expirationDate": 1466089624.741911,
    "hostOnly": false,
    "httpOnly": false,
    "name": "liap",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "true",
    "id": 7
  },
  {
    "domain": ".linkedin.com",
    "expirationDate": 1458386404.742016,
    "hostOnly": false,
    "httpOnly": false,
    "name": "lidc",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "\"b=VB73:g=338:u=55:i=1458313624:t=1458386404:s=AQEl3xLcqzlZr6Uia3kUCanK8jV1Lgis\"",
    "id": 8
  },
  {
    "domain": ".linkedin.com",
    "hostOnly": false,
    "httpOnly": true,
    "name": "sdsc",
    "path": "/",
    "secure": false,
    "session": true,
    "storeId": "0",
    "value": "1%3A1SZM1shxDNbLt36wZwCgPgvN58iw%3D",
    "id": 9
  },
  {
    "domain": ".www.linkedin.com",
    "expirationDate": 1506227957.727351,
    "hostOnly": false,
    "httpOnly": true,
    "name": "bscookie",
    "path": "/",
    "secure": true,
    "session": false,
    "storeId": "0",
    "value": "\"v=1&20150924170145efcbe74a-fa98-4646-850a-08c33449da37AQHycmNWtRSCdSe7v7_pQEBdtTT_mHmE\"",
    "id": 10
  },
  {
    "domain": ".www.linkedin.com",
    "expirationDate": 1466089624.741984,
    "hostOnly": false,
    "httpOnly": false,
    "name": "JSESSIONID",
    "path": "/",
    "secure": true,
    "session": false,
    "storeId": "0",
    "value": "\"ajax:4075770137946813234\"",
    "id": 11
  },
  {
    "domain": ".www.linkedin.com",
    "expirationDate": 1466089624.741824,
    "hostOnly": false,
    "httpOnly": true,
    "name": "li_at",
    "path": "/",
    "secure": true,
    "session": false,
    "storeId": "0",
    "value": "AQEDARC2fUEDsWnWAAABUluqvmEAAAFTirHZJU4AKWf-cCtd3DY76HYbE0y_7LvTA1KtsQX5xmJwJQdTMl4aUI-Di4YZT2Wf-8XMkYo31XI7v7S7MB81vaVgdaf0ahQt5FWxWj7WOc-94WvMQf0kh8Cv",
    "id": 12
  },
  {
    "domain": ".www.linkedin.com",
    "expirationDate": 1466089624.741952,
    "hostOnly": false,
    "httpOnly": false,
    "name": "sl",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "\"v=1&6EM-c\"",
    "id": 13
  },
  {
    "domain": "www.linkedin.com",
    "hostOnly": true,
    "httpOnly": false,
    "name": "L1c",
    "path": "/",
    "secure": false,
    "session": true,
    "storeId": "0",
    "value": "ede3022",
    "id": 14
  },
  {
    "domain": "www.linkedin.com",
    "hostOnly": true,
    "httpOnly": false,
    "name": "L1e",
    "path": "/",
    "secure": false,
    "session": true,
    "storeId": "0",
    "value": "1b606881",
    "id": 15
  },
  {
    "domain": "www.linkedin.com",
    "expirationDate": 1458324426,
    "hostOnly": true,
    "httpOnly": false,
    "name": "oz_props_fetch_size1_280395073",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "1",
    "id": 16
  },
  {
    "domain": "www.linkedin.com",
    "hostOnly": true,
    "httpOnly": false,
    "name": "share_setting",
    "path": "/",
    "secure": false,
    "session": true,
    "storeId": "0",
    "value": "PUBLIC",
    "id": 17
  },
  {
    "domain": "www.linkedin.com",
    "expirationDate": 1516308864.615241,
    "hostOnly": true,
    "httpOnly": false,
    "name": "visit",
    "path": "/",
    "secure": false,
    "session": false,
    "storeId": "0",
    "value": "\"v=1&M\"",
    "id": 18
  },
  {
    "domain": "www.linkedin.com",
    "hostOnly": true,
    "httpOnly": false,
    "name": "wutan",
    "path": "/",
    "secure": false,
    "session": true,
    "storeId": "0",
    "value": "HB7N/xiSmu1IPTQvfyAoWN9+xhk/C6OIx3comR1XoWg=",
    "id": 19
  }
]

var request = require('request')
request = request.defaults({jar: true})
var j = request.jar();

var request = request.defaults({jar: true})
cookies.forEach(function(cookie) {
  //request.cookie()
  j.setCookie(request.cookie(cookie.name + '=' + cookie.value), "http://www.linkedin.com");
})


var cheerio = require('cheerio');


var options = { method: 'GET', url: 'http://www.linkedin.com/in/mvtgomes?authType=name&authToken=T9_1&trk=hp-feed-member-photo', jar: j };

request(options, function (error, response, body) {
  if (error) throw new Error(error);

  var fs = require('fs');
  fs.writeFile("hole.html", body, function(err) {
    if(err) {
      return console.log(err);
    }

    console.log("The file was saved!");
  });
});


